<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MATH KO: ULTIMATE TOUCH</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --p1: #3498db; --p1-dark: #2980b9;
            --p2: #e74c3c; --p2-dark: #c0392b;
            --text: #ecf0f1;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Press Start 2P', cursive;
            background: #111; color: var(--text);
            margin: 0; height: 100vh; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            user-select: none;
        }

        #menu-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.6)), 
                        url('https://img.freepik.com/premium-vector/pixel-art-boxing-ring-background_805576-88.jpg');
            background-size: cover; background-position: center;
            z-index: 100; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
        }
        h1 { 
            font-size: 28px; color: #f1c40f; text-shadow: 4px 4px #c0392b; 
            margin-bottom: 30px; animation: pulse 1.5s infinite; line-height: 1.5; padding: 0 10px;
        }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        
        .menu-box { background: #222; border: 4px solid #fff; padding: 25px; border-radius: 10px; max-width: 90%; }
        .btn-group { margin: 15px 0; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
        .btn {
            font-family: inherit; padding: 12px 10px; background: #444; color: #fff;
            border: 2px solid #777; cursor: pointer; transition: 0.2s; font-size: 10px;
            flex: 1; min-width: 80px;
        }
        .btn.active { background: #27ae60; border-color: #2ecc71; box-shadow: 0 0 10px #27ae60; }
        .btn-start { font-size: 16px; padding: 15px 40px; background: #e67e22; border-color: #d35400; margin-top: 15px; width: 100%; }

        #game-layer {
            display: none; width: 100%; max-width: 900px; height: 100%; max-height: 800px;
            position: relative; flex-direction: column; background: #333; border: 2px solid #555;
        }
        .screen {
            position: relative; width: 100%; flex: 1; background: #87ceeb; overflow: hidden;
            border-bottom: 5px solid #000;
        }
        .bg-sky { position: absolute; width: 100%; height: 100%; background: linear-gradient(#2980b9, #fff); }
        .floor { position: absolute; bottom: 0; width: 100%; height: 25%; background: #7f8c8d; border-top: 8px solid #555; z-index: 2; }
        .rope { position: absolute; width: 100%; height: 4px; background: #c0392b; border: 1px solid #000; z-index: 5; }

        .hud { position: absolute; top: 0; width: 100%; padding: 10px; display: flex; justify-content: space-between; z-index: 10; }
        .hp-box { width: 40%; }
        .hp-bar { width: 100%; height: 15px; background: #333; border: 2px solid #fff; }
        .hp-fill { height: 100%; width: 100%; transition: width 0.3s; }
        #hp1 { background: var(--p1); } #hp2 { background: var(--p2); transform-origin: right; }
        .timer { font-size: 24px; color: #f1c40f; text-shadow: 2px 2px #000; align-self: center;}

        .char { width: 60px; height: 90px; position: absolute; bottom: 20%; transition: transform 0.1s; z-index: 4; }
        @media (min-width: 600px) { .char { width: 80px; height: 120px; bottom: 50px; } }
        #p1 { left: 15%; color: var(--p1); } #p2 { right: 15%; color: var(--p2); transform: scaleX(-1); }
        .head { width: 50%; height: 33%; background: #f1c27d; position: absolute; top: 0; left: 25%; border: 2px solid #000; }
        .body { width: 60%; height: 50%; background: currentColor; position: absolute; top: 33%; left: 20%; border: 2px solid #000; }
        .glove { width: 40%; height: 25%; background: currentColor; position: absolute; border: 2px solid #000; filter: brightness(0.8); }
        .glove.l { top: 40%; left: -10%; } .glove.r { top: 50%; left: 60%; }

        .idle { animation: bounce 1s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0) scaleX(1); } 50% { transform: translateY(-5px) scaleX(1); } }
        #p2.idle { animation: bounceP2 1s infinite; }
        @keyframes bounceP2 { 0%, 100% { transform: translateY(0) scaleX(-1); } 50% { transform: translateY(-5px) scaleX(-1); } }
        .punch { animation: punchAnim 0.2s forwards; }
        @keyframes punchAnim { 50% { transform: translateX(50px) scaleX(1); } }
        #p2.punch { animation: punchAnimP2 0.2s forwards; }
        @keyframes punchAnimP2 { 50% { transform: translateX(50px) scaleX(-1); } }
        .hit { animation: shake 0.3s; filter: brightness(2) sepia(1) hue-rotate(-50deg); }

        .question-modal {
            position: absolute; top: 30%; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.8); color: #fff; padding: 10px 15px;
            border: 2px solid #fff; border-radius: 10px; text-align: center; z-index: 15; min-width: 200px;
        }
        .q-text { font-size: 20px; margin: 0; white-space: nowrap; }

        .input-area { height: auto; padding: 10px 0; background: #222; display: flex; justify-content: space-around; align-items: flex-start; border-top: 5px solid #555; }
        .col { display: flex; flex-direction: column; align-items: center; width: 48%; opacity: 0.6; transition: 0.3s; padding: 5px; border-radius: 5px; }
        .col.active { opacity: 1; background: rgba(255,255,255,0.05); border: 1px solid #555; }
        .col label { font-size: 10px; margin-bottom: 5px; color: #bbb; text-align: center; line-height: 1.4; min-height: 30px;}
        .ans-input { width: 100%; height: 45px; font-size: 20px; text-align: center; font-family: inherit; background: #111; border: 2px solid #444; color: #fff; border-radius: 5px; -webkit-appearance: none; }
        .ans-input:focus { outline: none; border-color: #f1c40f; box-shadow: 0 0 10px #f1c40f; }
        #in1 { border-color: var(--p1-dark); } #in2 { border-color: var(--p2-dark); }
        .touch-submit-btn { margin-top: 8px; width: 100%; padding: 12px; font-family: inherit; font-size: 12px; color: white; border: none; border-radius: 5px; cursor: pointer; box-shadow: 0 4px 0 rgba(0,0,0,0.5); }
        .touch-submit-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 rgba(0,0,0,0.5); }
        #btn-p1 { background: var(--p1); } #btn-p2 { background: var(--p2); }

        #win-overlay { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 200; flex-direction: column; justify-content: center; align-items: center; }
        .win-title { font-size: 30px; color: #f1c40f; animation: pulse 0.5s infinite; text-align: center; margin-bottom: 20px;}
        .firework { position: absolute; width: 5px; height: 5px; border-radius: 50%; animation: explode 1s ease-out forwards; }
        @keyframes explode { 0% { transform: translate(0, 0); opacity: 1; } 100% { transform: translate(var(--x), var(--y)); opacity: 0; } }
        
        .action-buttons { display: flex; gap: 15px; margin-top: 20px; }
        .action-btn { padding: 15px 20px; font-family: inherit; cursor: pointer; background: #fff; border: 3px solid #000; color: #000; font-size: 12px; }
        .action-btn:hover { background: #ccc; }

    </style>
</head>
<body>

    <div id="menu-layer">
        <h1>MATH KO<br>BATTLE</h1>
        <div class="menu-box">
            <div class="btn-group">
                <button class="btn active" onclick="setMode('pvp', this)">LAWAN TEMAN</button>
                <button class="btn" onclick="setMode('pve', this)">LAWAN BOT</button>
            </div>
            <div class="btn-group">
                <button class="btn" onclick="setDiff('easy', this)">MUDAH<br>(x)</button>
                <button class="btn active" onclick="setDiff('normal', this)">NORMAL<br>(√)</button>
                <button class="btn" onclick="setDiff('hard', this)">SULIT<br>(Campur)</button>
            </div>
            <button class="btn btn-start" onclick="initGame()">MULAI</button>
        </div>
    </div>

    <div id="game-layer">
        <div class="screen">
            <div class="bg-sky"></div>
            <div class="floor"></div>
            <div class="rope" style="bottom: 25%"></div>
            <div class="rope" style="bottom: 15%"></div>

            <div class="hud">
                <div class="hp-box">
                    <div style="color:var(--p1); font-size:10px; margin-bottom:5px;">P1</div>
                    <div class="hp-bar"><div class="hp-fill" id="hp1"></div></div>
                </div>
                <div class="timer" id="timer">00</div>
                <div class="hp-box" style="text-align:right;">
                    <div style="color:var(--p2); font-size:10px; margin-bottom:5px;" id="p2-label">P2</div>
                    <div class="hp-bar"><div class="hp-fill" id="hp2"></div></div>
                </div>
            </div>

            <div class="question-modal">
                <h2 class="q-text" id="q-text">SIAP?</h2>
            </div>

            <div class="char idle" id="p1">
                <div class="head"></div><div class="body"></div>
                <div class="glove l"></div><div class="glove r"></div>
            </div>
            <div class="char idle" id="p2">
                <div class="head"></div><div class="body"></div>
                <div class="glove l"></div><div class="glove r"></div>
            </div>

            <div id="win-overlay">
                <div class="win-title" id="win-msg">KO!</div>
                <div class="action-buttons">
                    <button class="action-btn" onclick="restartGame()">MAIN LAGI</button>
                    <button class="action-btn" onclick="goToMenu()">MENU UTAMA</button>
                </div>
            </div>
        </div>

        <div class="input-area">
            <div class="col" id="col1" onclick="focusInput('p1')">
                <label>P1: Ketuk<br>Isi Jawaban</label>
                <input type="tel" id="in1" class="ans-input" placeholder="?">
                <button class="touch-submit-btn" id="btn-p1" onclick="submitTouch('p1')">P1 PUKUL!</button>
            </div>
            <div class="col" id="col2" onclick="focusInput('p2')">
                <label id="lbl2">P2: Ketuk<br>Isi Jawaban</label>
                <input type="tel" id="in2" class="ans-input" placeholder="?">
                <button class="touch-submit-btn" id="btn-p2" onclick="submitTouch('p2')">P2 PUKUL!</button>
            </div>
        </div>
    </div>

    <script>
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        let audioCtx;
        let bgmInterval;

        function initAudio() {
            if (!audioCtx) audioCtx = new AudioContext();
            if (audioCtx.state === 'suspended') audioCtx.resume();
        }

        function playMenuMusic() {
            stopMusic();
            let noteIndex = 0;
            const bassNotes = [65.41, 65.41, 77.78, 87.31]; 
            
            bgmInterval = setInterval(() => {
                if(!audioCtx) return;
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(bassNotes[noteIndex % 4], audioCtx.currentTime);
                const filter = audioCtx.createBiquadFilter();
                filter.type = "lowpass";
                filter.frequency.value = 400;
                gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
                osc.connect(filter);
                filter.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.4);
                noteIndex++;
            }, 500);
        }

        function playBattleMusic() {
            stopMusic();
            let note = 0;
            bgmInterval = setInterval(() => {
                if(!state.active) return;
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = 'square';
                const freqs = [110, 103, 98, 103, 130, 123]; 
                osc.frequency.setValueAtTime(freqs[note % 6], audioCtx.currentTime);
                gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.15);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.15);
                note++;
            }, 200);
        }

        function sfxApplause() {
            stopMusic();
            const bufferSize = audioCtx.sampleRate * 3; 
            const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
            const data = buffer.getChannelData(0);
            for (let i = 0; i < bufferSize; i++) data[i] = Math.random() * 2 - 1; 
            const noise = audioCtx.createBufferSource();
            noise.buffer = buffer;
            const gain = audioCtx.createGain();
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.linearRampToValueAtTime(0.5, audioCtx.currentTime + 0.5);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 3);
            const filter = audioCtx.createBiquadFilter();
            filter.type = "bandpass";
            filter.frequency.value = 800;
            noise.connect(filter);
            filter.connect(gain);
            gain.connect(audioCtx.destination);
            noise.start();
        }

        function sfxLoss() {
            stopMusic();
            const notes = [196, 185, 174, 164, 146, 130]; 
            notes.forEach((freq, i) => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(freq, audioCtx.currentTime + (i*0.4));
                gain.gain.setValueAtTime(0.2, audioCtx.currentTime + (i*0.4));
                gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + (i*0.4) + 0.4);
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.start(audioCtx.currentTime + (i*0.4));
                osc.stop(audioCtx.currentTime + (i*0.4) + 0.4);
            });
        }

        function sfxPunch() {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(150, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
            gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.1);
        }

        function stopMusic() {
            if (bgmInterval) clearInterval(bgmInterval);
        }

        const config = { mode: 'pvp', diff: 'normal', time: 15, type: 'root' };
        const diffs = {
            easy: { t: 6, type: 'mult' },
            normal: { t: 15, type: 'root' },
            hard: { t: 45, type: 'hard' } 
        };

        let state = { hp1: 100, hp2: 100, active: false, ans: 0, timer: 0, interval: null, botTimer: null };
        const elMenu = document.getElementById('menu-layer');
        const elGame = document.getElementById('game-layer');
        const elQ = document.getElementById('q-text');
        const elTimer = document.getElementById('timer');
        const in1 = document.getElementById('in1');
        const in2 = document.getElementById('in2');
        const char1 = document.getElementById('p1');
        const char2 = document.getElementById('p2');
        const winOverlay = document.getElementById('win-overlay');
        const r = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

        document.body.addEventListener('click', function() {
            initAudio();
            if(elMenu.style.display !== 'none' && !bgmInterval) {
                playMenuMusic();
            }
        }, { once: true });

        function setMode(m, btn) {
            config.mode = m;
            document.querySelectorAll('.btn-group:first-of-type .btn').forEach(b=>b.classList.remove('active'));
            btn.classList.add('active');
        }

        function setDiff(d, btn) {
            config.diff = d;
            document.querySelectorAll('.btn-group:last-of-type .btn').forEach(b=>b.classList.remove('active'));
            btn.classList.add('active');
        }

        function initGame() {
            initAudio();
            playBattleMusic(); 
            elMenu.style.display = 'none';
            elGame.style.display = 'flex';
            const set = diffs[config.diff];
            config.time = set.t;
            config.type = set.type;
            state.hp1 = 100; state.hp2 = 100; updateHP();
            winOverlay.style.display = 'none';
            document.querySelectorAll('.firework').forEach(e => e.remove());

            if(config.mode === 'pve') {
                document.getElementById('p2-label').textContent = "BOT";
                document.getElementById('lbl2').innerHTML = "BOT...";
                in2.disabled = true; in2.placeholder = "...";
                document.getElementById('btn-p2').style.display = 'none';
            } else {
                document.getElementById('p2-label').textContent = "P2";
                document.getElementById('lbl2').innerHTML = "P2: Ketuk";
                in2.disabled = false; in2.placeholder = "?";
                document.getElementById('btn-p2').style.display = 'block';
            }
            nextRound();
        }

        function nextRound() {
            if(state.hp1 <= 0 || state.hp2 <= 0) return;
            state.active = true;
            let q = "", a = 0;

            if(config.type === 'mult') {
                const n1 = r(2, 10); const n2 = r(2, 10);
                a = n1 * n2; q = `${n1} x ${n2}`;
            } else if(config.type === 'root') {
                const n = r(2, 20);
                a = n; q = `√${n*n}`;
            } else if(config.type === 'hard') {
                const pattern = r(1, 5);
                if (pattern === 1) {
                    let n = r(2, 10); let x = r(2, 6); let y = r(2, 6);
                    q = `√${n*n} + ${x} x ${y}`; a = n + (x * y);
                } else if (pattern === 2) {
                    let x = r(1, 10); let divisor = r(2, 5);
                    let resultDiv = r(5, 20); let dividend = divisor * resultDiv;
                    q = `${x} + ${dividend} : ${divisor}`; a = x + resultDiv;
                } else if (pattern === 3) {
                    let start = r(20, 50); let x = r(2, 4); let y = r(2, 4); let n = r(2, 9);
                    q = `${start} - ${x} x ${y} + √${n*n}`; a = start - (x * y) + n;
                } else if (pattern === 4) {
                    let c = r(2, 5); let res = r(2, 10); let total = c * res;
                    q = `(${total}) : ${c} + ${r(1,10)}`; a = res + parseInt(q.split('+')[1]);
                } else {
                    let x = r(2, 8); let y = r(2, 8); let z = r(1, 20); let w = r(1, 20);
                    q = `${x} x ${y} - ${z} + ${w}`; a = (x*y) - z + w;
                }
            }

            elQ.textContent = `${q} = ?`;
            state.ans = a;
            in1.value = ''; in2.value = '';
            document.getElementById('col1').classList.remove('active');
            document.getElementById('col2').classList.remove('active');
            clearInterval(state.interval); clearTimeout(state.botTimer);
            state.timer = config.time;
            elTimer.textContent = state.timer;
            
            state.interval = setInterval(() => {
                state.timer--;
                elTimer.textContent = state.timer;
                if(state.timer <= 0) {
                    state.active = false;
                    elQ.textContent = "WAKTU HABIS!";
                    clearInterval(state.interval);
                    setTimeout(nextRound, 1500);
                }
            }, 1000);

            if(config.mode === 'pve') {
                let delay = (config.diff === 'easy' ? 3000 : (config.diff === 'normal' ? 5000 : 8000));
                delay = Math.random() * delay + 2000;
                if(delay > (config.time*1000)) delay = (config.time*1000) - 500;
                state.botTimer = setTimeout(() => {
                    if(!state.active) return;
                    in2.value = state.ans;
                    checkAns('p2', state.ans);
                }, delay);
            }
        }

        function focusInput(player) {
            if(!state.active) return;
            if(player === 'p1') {
                in1.focus(); document.getElementById('col1').classList.add('active');
                if(config.mode === 'pvp') document.getElementById('col2').classList.remove('active');
            } else if (player === 'p2' && config.mode === 'pvp') {
                in2.focus(); document.getElementById('col2').classList.add('active');
                document.getElementById('col1').classList.remove('active');
            }
        }

        function submitTouch(player) {
            if(!state.active) return;
            if(player === 'p1') checkAns('p1', parseInt(in1.value));
            if(player === 'p2') checkAns('p2', parseInt(in2.value));
        }

        document.addEventListener('keydown', (e) => {
            if(!state.active) return;
            if(e.key.toLowerCase() === 'q') { e.preventDefault(); focusInput('p1'); }
            if(e.key === 'Enter' && document.activeElement === in1) checkAns('p1', parseInt(in1.value));
            if(config.mode === 'pvp') {
                if(e.key.toLowerCase() === 'p') { e.preventDefault(); focusInput('p2'); }
                if(e.code === 'Space' && document.activeElement === in2) { e.preventDefault(); checkAns('p2', parseInt(in2.value)); }
            }
        });

        function checkAns(p, val) {
            if(!state.active) return;
            if(val === state.ans) {
                state.active = false; clearInterval(state.interval); clearTimeout(state.botTimer);
                attack(p);
            } else {
                if(p==='p1') { in1.value=''; in1.placeholder='SALAH'; setTimeout(()=>in1.placeholder='?',500); } 
                else { in2.value=''; in2.placeholder='SALAH'; setTimeout(()=>in2.placeholder='?',500); }
            }
        }

        function attack(attacker) {
            sfxPunch();
            const isP1 = attacker === 'p1';
            const atk = isP1 ? char1 : char2; const vic = isP1 ? char2 : char1;
            atk.classList.remove('idle'); atk.classList.add('punch');
            setTimeout(() => {
                vic.classList.add('hit');
                if(isP1) state.hp2 -= 20; else state.hp1 -= 20;
                updateHP();
            }, 100);
            setTimeout(() => {
                atk.classList.remove('punch'); atk.classList.add('idle'); vic.classList.remove('hit');
                if(state.hp1 <= 0 || state.hp2 <= 0) winGame(isP1);
                else nextRound();
            }, 800);
        }

        function updateHP() {
            document.getElementById('hp1').style.width = Math.max(0, state.hp1)+'%';
            document.getElementById('hp2').style.width = Math.max(0, state.hp2)+'%';
        }

        function createFireworks() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            const container = document.getElementById('win-overlay');
            const interval = setInterval(() => {
                if(winOverlay.style.display === 'none') { clearInterval(interval); return; }
                const centerX = Math.random() * 100 + '%';
                const centerY = Math.random() * 60 + 20 + '%';
                const color = colors[Math.floor(Math.random() * colors.length)];
                for(let i=0; i<20; i++) {
                    const p = document.createElement('div');
                    p.classList.add('firework');
                    p.style.left = centerX;
                    p.style.top = centerY;
                    p.style.backgroundColor = color;
                    const angle = Math.random() * Math.PI * 2;
                    const velocity = Math.random() * 100 + 50;
                    p.style.setProperty('--x', Math.cos(angle) * velocity + 'px');
                    p.style.setProperty('--y', Math.sin(angle) * velocity + 'px');
                    container.appendChild(p);
                    setTimeout(() => p.remove(), 1000);
                }
            }, 500);
        }

        function winGame(isP1Win) {
            state.active = false;
            const winnerName = isP1Win ? 'P1' : (config.mode === 'pve' ? 'BOT' : 'P2');
            const title = document.getElementById('win-msg');
            winOverlay.style.display = 'flex';
            if(config.mode === 'pve' && !isP1Win) {
                sfxLoss();
                title.innerHTML = "GAME OVER<br>KAMU KALAH!";
                title.style.color = "#e74c3c";
            } else {
                sfxApplause();
                title.innerHTML = `${winnerName}<br>MENANG!`;
                title.style.color = "#f1c40f";
                createFireworks();
            }
        }

        function restartGame() { initGame(); }

        function goToMenu() {
            winOverlay.style.display = 'none';
            elGame.style.display = 'none';
            elMenu.style.display = 'flex';
            playMenuMusic();
            document.querySelectorAll('.firework').forEach(e => e.remove());
        }
    </script>
</body>
</html>